(()=>{var e={};e.id=6907,e.ids=[6907],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19485:(e,t,r)=>{Promise.resolve().then(r.bind(r,41299))},23176:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(21932).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},23343:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(21932).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38045:(e,t,r)=>{Promise.resolve().then(r.bind(r,89329))},40292:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(21932).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},41299:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(34948).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/virtual-options-desk/frontend/src/app/pricing/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/virtual-options-desk/frontend/src/app/pricing/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59249:e=>{"use strict";e.exports=require("http")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75164:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(87528),a=r(35095),o=r(40591),n=r.n(o),i=r(66080),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["pricing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41299)),"/workspaces/virtual-options-desk/frontend/src/app/pricing/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,86579))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27225)),"/workspaces/virtual-options-desk/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71677,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,54144,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,27249,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,86579))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/workspaces/virtual-options-desk/frontend/src/app/pricing/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/pricing/page",pathname:"/pricing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},86579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4011);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},89329:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(99586),a=r(39547),o=r(88068),n=r(8755),i=r(40292),l=r(23176),c=r(45884),d=r(23343);let p=[{id:"free",name:"Free",price:0,interval:"month",description:"Perfect for getting started",icon:(0,s.jsx)(i.A,{className:"w-6 h-6"}),features:["10 AI stock picks per month","Basic pattern detection","Community support","Email alerts","Mobile app access"]},{id:"pro",name:"Pro",price:29,interval:"month",description:"For serious traders",icon:(0,s.jsx)(l.A,{className:"w-6 h-6"}),popular:!0,features:["100 AI stock picks per month","Advanced pattern detection","ML-powered screening","Real-time alerts","Priority email support","Historical analysis","Custom watchlists"]},{id:"premium",name:"Premium",price:99,interval:"month",description:"For professional traders",icon:(0,s.jsx)(c.A,{className:"w-6 h-6"}),features:["Unlimited AI stock picks","Full API access","Advanced ML screening (200+ factors)","Real-time pattern detection","Priority support (24/7)","Custom indicators","Backtesting tools","Portfolio analytics","Export to CSV/Excel"]}];function u(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[h,m]=(0,a.useState)("month");async function x(t){console.log("\uD83D\uDED2 handleSubscribe called with planId:",t),console.log("\uD83D\uDC64 Current user state:",c),console.log("\uD83D\uDC64 User object:",JSON.stringify(c,null,2));let{data:{user:s},error:a}=await n.N.auth.getUser();if(console.log("\uD83D\uDD0D Double-checking auth:",s?`Logged in as ${s.email}`:"Not logged in",a),!c&&!s){console.log("❌ No user authenticated, redirecting to login"),alert("Please log in to subscribe"),e.push("/login?redirect=/pricing");return}!c&&s&&(console.log("✅ Found user on double-check, updating state"),u(s)),r(t),console.log("⏳ Loading state set for plan:",t);try{let e="year"===h?`${t}_yearly`:t;console.log("\uD83D\uDCE6 Sending checkout request for plan:",e),console.log("\uD83C\uDF6A Including credentials in request");let r=await fetch("/api/payment/checkout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planId:e})});if(console.log("\uD83D\uDCE1 Checkout response status:",r.status),!r.ok){let e=await r.json().catch(()=>({error:"Unknown error"}));throw console.error("❌ Checkout error response:",e),Error(e.error||`Server error: ${r.status}`)}let s=await r.json();if(console.log("✅ Checkout response data:",s),!s.url)throw console.error("❌ No URL in response:",s),Error("No checkout URL received from server");console.log("\uD83D\uDE80 Redirecting to Stripe checkout:",s.url),window.location.href=s.url}catch(t){console.error("\uD83D\uDCA5 Checkout error:",t);let e=t instanceof Error?t.message:"Failed to start checkout. Please try again.";alert(`❌ Checkout Error:

${e}

Please check:
1. You are logged in
2. Browser console (F12) for details
3. Payment API is running`),r(null)}}async function g(){r("manage");try{let e=await fetch("/api/payment/portal",{method:"POST"});if(!e.ok)throw Error("Failed to create portal session");let{url:t}=await e.json();window.location.href=t}catch(e){console.error("Portal error:",e),alert("Failed to open billing portal. Please try again."),r(null)}}return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-20 px-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-16",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold text-white mb-4",children:"Choose Your Trading Edge"}),(0,s.jsx)("p",{className:"text-xl text-gray-300 mb-8",children:"AI-powered stock analysis and pattern detection for smarter trading"}),(0,s.jsxs)("div",{className:"inline-flex items-center bg-slate-800 rounded-full p-1",children:[(0,s.jsx)("button",{onClick:()=>m("month"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${"month"===h?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Monthly"}),(0,s.jsxs)("button",{onClick:()=>m("year"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${"year"===h?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:["Yearly",(0,s.jsx)("span",{className:"ml-2 text-xs bg-green-500 text-white px-2 py-1 rounded-full",children:"Save 17%"})]})]})]}),i&&"free"!==i.plan&&(0,s.jsx)("div",{className:"mb-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-6 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-xl font-bold mb-1",children:["Current Plan: ",i.plan.charAt(0).toUpperCase()+i.plan.slice(1)]}),(0,s.jsxs)("p",{className:"text-purple-100",children:["Status: ",i.status,i.cancelAtPeriodEnd&&" (Cancels at period end)"]})]}),(0,s.jsx)("button",{onClick:g,disabled:"manage"===t,className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors disabled:opacity-50",children:"manage"===t?"Loading...":"Manage Subscription"})]})}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:p.map(r=>{let a=i?.plan===r.id,o="year"===h&&r.price>0?10*r.price:r.price,n="year"===h&&r.price>0?o/12:o;return(0,s.jsxs)("div",{className:`relative bg-slate-800 rounded-2xl p-8 border-2 transition-all duration-300 hover:scale-[1.03] hover:-translate-y-2 flex flex-col ${r.popular?"border-purple-500 shadow-xl shadow-purple-500/20 hover:shadow-purple-500/40":"border-slate-700 hover:border-slate-600 hover:shadow-xl hover:shadow-slate-700/30"}`,children:[r.popular&&(0,s.jsx)("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),(0,s.jsx)("div",{className:"mb-4 text-purple-400",children:r.icon}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:r.description}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-baseline",children:[(0,s.jsxs)("span",{className:"text-5xl font-bold text-white",children:["$",o]}),(0,s.jsxs)("span",{className:"text-gray-400 ml-2",children:["/",h]})]}),"year"===h&&r.price>0&&(0,s.jsxs)("p",{className:"text-sm text-green-400 mt-1",children:["$",n.toFixed(2),"/month"]})]}),(0,s.jsx)("ul",{className:"space-y-3 mb-8 flex-grow",children:r.features.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"text-gray-300 text-sm",children:e})]},t))}),(0,s.jsx)("button",{onClick:()=>"free"===r.id?e.push("/signup"):x(r.id),disabled:t===r.id||a,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all transform duration-300 ${a?"bg-slate-600 text-slate-400 cursor-not-allowed":r.popular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 hover:scale-[1.07] hover:shadow-2xl hover:shadow-purple-500/60 hover:-translate-y-1 text-white active:scale-100 active:translate-y-0":"pro"===r.id?"bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 hover:scale-[1.07] hover:shadow-2xl hover:shadow-indigo-500/60 hover:-translate-y-1 text-white active:scale-100 active:translate-y-0 ring-2 ring-transparent hover:ring-indigo-400/50":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 hover:scale-[1.07] hover:shadow-2xl hover:shadow-green-500/60 hover:-translate-y-1 text-white active:scale-100 active:translate-y-0 ring-2 ring-transparent hover:ring-green-400/50"} ${t===r.id?"opacity-70 cursor-wait":""}`,children:t===r.id?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a?"Current Plan":"free"===r.id?"Get Started Free":"Subscribe Now"})]},r.id)})}),(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Frequently Asked Questions"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Can I change plans anytime?"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Yes! You can upgrade or downgrade your plan at any time. Changes take effect immediately for upgrades, or at the end of your billing period for downgrades."})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"What payment methods do you accept?"}),(0,s.jsx)("p",{className:"text-gray-400",children:"We accept all major credit cards (Visa, Mastercard, American Express) through our secure Stripe payment processor."})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is there a free trial?"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Our Free plan is available forever with 10 AI picks per month. You can upgrade to Premium or Pro anytime to unlock more features."})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"What's your refund policy?"}),(0,s.jsx)("p",{className:"text-gray-400",children:"We offer a 14-day money-back guarantee on all paid plans. If you're not satisfied, contact us for a full refund."})]})]})]}),(0,s.jsx)("div",{className:"mt-16 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-8 text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 text-green-400 mr-2"}),(0,s.jsx)("span",{children:"Cancel Anytime"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 text-green-400 mr-2"}),(0,s.jsx)("span",{children:"Secure Payments"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 text-green-400 mr-2"}),(0,s.jsx)("span",{children:"14-Day Guarantee"})]})]})})]})})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5143,8327,9249,6328],()=>r(75164));module.exports=s})();