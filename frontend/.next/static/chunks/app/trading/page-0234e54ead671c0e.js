(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7552],{591:(e,s,t)=>{"use strict";t.d(s,{Label:()=>l});var a=t(5800);t(5924);var i=t(2672),r=t(4756);function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},2067:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>n,TN:()=>c});var a=t(5800);t(5924);var i=t(4208),r=t(4756);let l=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...i}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(l({variant:t}),s),...i})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},2957:(e,s,t)=>{"use strict";t.d(s,{XC:()=>l,kf:()=>n});var a=t(5161);class i{initializeDefaultStocks(){[{symbol:"AAPL",price:182.45,volatility:.25},{symbol:"GOOGL",price:2845.67,volatility:.28},{symbol:"MSFT",price:378.23,volatility:.22},{symbol:"TSLA",price:248.91,volatility:.45},{symbol:"NVDA",price:485.23,volatility:.35},{symbol:"AMZN",price:145.67,volatility:.3},{symbol:"META",price:342.18,volatility:.33},{symbol:"SPY",price:445.23,volatility:.15},{symbol:"QQQ",price:378.91,volatility:.2},{symbol:"IWM",price:195.67,volatility:.25}].forEach(e=>{this.stocks.set(e.symbol,{symbol:e.symbol,price:e.price,lastUpdate:new Date,volatility:e.volatility,volume:Math.floor(1e7*Math.random())+1e6,high:e.price*(1+.02*Math.random()),low:e.price*(1-.02*Math.random()),open:e.price*(1+(Math.random()-.5)*.01)})})}async generateRandomWalk(e,s,t,a){let i=[s],r=1/252/24/60;for(let e=1;e<a;e++){let a=(.05-.5*t*t)*r+t*Math.sqrt(r)*this.generateNormalRandom(),l=Math.max(i[e-1]*Math.exp(a)*(1+.01*this.generateMarketEvent().impact),.5*s);i.push(Math.min(l,2*s))}return i}generateNormalRandom(){let e=0,s=0;for(;0===e;)e=Math.random();for(;0===s;)s=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*s)}generateMarketEvent(){let e=Math.random();return e<.95?{type:"normal",impact:0,duration:1}:e<.98?{type:"news",impact:(Math.random()-.5)*2,duration:Math.floor(30*Math.random())+5}:e<.995?{type:"volatility_spike",impact:(Math.random()-.5)*4,duration:Math.floor(60*Math.random())+10}:{type:"earnings",impact:(Math.random()-.5)*6,duration:Math.floor(120*Math.random())+30}}async updatePrices(){for(let[e,s]of this.stocks){if((Date.now()-s.lastUpdate.getTime())/6e4<1)continue;let t=(await this.generateRandomWalk(e,s.price,s.volatility,2))[1],a=t-s.price,i=Math.floor(1e6*Math.random())+5e5,r={...s,price:t,lastUpdate:new Date,volume:s.volume+i,high:Math.max(s.high,t),low:Math.min(s.low,t)};this.stocks.set(e,r),await this.broadcastPriceUpdate(e,r,a)}}async broadcastPriceUpdate(e,s,t){try{let i=a.N.channel("market-data");await i.send({type:"broadcast",event:"price-update",payload:{symbol:e,price:s.price,change:t,changePercent:t/(s.price-t)*100,volume:s.volume,high:s.high,low:s.low,open:s.open,timestamp:s.lastUpdate.toISOString()}});let r=a.N,l={symbol:e,price:s.price,volume:s.volume,high:s.high,low:s.low,open:s.open,updated_at:s.lastUpdate.toISOString()};await r.from("stock_prices").upsert(l)}catch(s){console.error("Failed to broadcast price update for ".concat(e,":"),s)}}start(){this.isRunning||(this.isRunning=!0,this.updateInterval=setInterval(()=>{this.updatePrices().catch(e=>{console.error("Error updating prices:",e)})},this.UPDATE_FREQUENCY),console.log("Market simulator started"))}stop(){this.isRunning&&(this.isRunning=!1,this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),console.log("Market simulator stopped"))}getStock(e){return this.stocks.get(e)}getAllStocks(){return new Map(this.stocks)}addStock(e,s,t){if(this.stocks.has(e))return void console.warn("Stock ".concat(e," already exists"));this.stocks.set(e,{symbol:e,price:s,lastUpdate:new Date,volatility:t,volume:Math.floor(1e7*Math.random())+1e6,high:s*(1+.02*Math.random()),low:s*(1-.02*Math.random()),open:s*(1+(Math.random()-.5)*.01)})}removeStock(e){return this.stocks.delete(e)}updateVolatility(e,s){let t=this.stocks.get(e);return!!t&&(this.stocks.set(e,{...t,volatility:s}),!0)}simulateMarketCrash(e){for(let[s,t]of this.stocks){let a=1-e/100,i=t.price*a;this.stocks.set(s,{...t,price:i,low:Math.min(t.low,i),lastUpdate:new Date,volatility:1.5*t.volatility})}console.log("Simulated market crash with ".concat(e,"% impact"))}simulateMarketRally(e){for(let[s,t]of this.stocks){let a=1+e/100,i=t.price*a;this.stocks.set(s,{...t,price:i,high:Math.max(t.high,i),lastUpdate:new Date})}console.log("Simulated market rally with ".concat(e,"% impact"))}constructor(){this.UPDATE_FREQUENCY=2e3,this.stocks=new Map,this.isRunning=!1,this.updateInterval=null,this.initializeDefaultStocks()}}let r=null;function l(){return r||(r=new i),r}function n(){l().start(),console.log("\uD83D\uDE80 Market simulation started with real-time price updates")}},3158:(e,s,t)=>{Promise.resolve().then(t.bind(t,4659))},4135:(e,s,t)=>{"use strict";t.d(s,{Tabs:()=>l,TabsContent:()=>o,TabsList:()=>n,TabsTrigger:()=>c});var a=t(5800);t(5924);var i=t(6543),r=t(4756);function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)(i.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(i.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(i.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}},4659:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>el});var a=t(5800),i=t(5924),r=t(7925),l=t(4135),n=t(1171),c=t(7313),o=t(6631),d=t(8296),m=t(6511),u=t(8813),h=t(8535),x=t(568);function p(e){var s,t,l,n;let{onSelectStock:p,currentSymbol:g="AAPL"}=e,[j,v]=(0,i.useState)(""),[y,f]=(0,i.useState)([]),[b,N]=(0,i.useState)(!1),[k,w]=(0,i.useState)(null),[S,A]=(0,i.useState)(!1),[C,T]=(0,i.useState)(null),M=(0,i.useRef)(null),F=[{symbol:"AAPL",name:"Apple Inc.",category:"Tech"},{symbol:"MSFT",name:"Microsoft Corporation",category:"Tech"},{symbol:"GOOGL",name:"Alphabet Inc.",category:"Tech"},{symbol:"AMZN",name:"Amazon.com Inc.",category:"Tech"},{symbol:"META",name:"Meta Platforms Inc.",category:"Tech"},{symbol:"NVDA",name:"NVIDIA Corporation",category:"Semiconductors"},{symbol:"TSLA",name:"Tesla Inc.",category:"Automotive"},{symbol:"NFLX",name:"Netflix Inc.",category:"Entertainment"},{symbol:"AMD",name:"Advanced Micro Devices",category:"Semiconductors"},{symbol:"INTC",name:"Intel Corporation",category:"Semiconductors"},{symbol:"QCOM",name:"QUALCOMM Inc.",category:"Semiconductors"},{symbol:"AVGO",name:"Broadcom Inc.",category:"Semiconductors"},{symbol:"TSM",name:"Taiwan Semiconductor",category:"Semiconductors"},{symbol:"ORCL",name:"Oracle Corporation",category:"Software"},{symbol:"ADBE",name:"Adobe Inc.",category:"Software"},{symbol:"CRM",name:"Salesforce Inc.",category:"Software"},{symbol:"NOW",name:"ServiceNow Inc.",category:"Software"},{symbol:"JPM",name:"JPMorgan Chase & Co.",category:"Finance"},{symbol:"BAC",name:"Bank of America Corp.",category:"Finance"},{symbol:"WFC",name:"Wells Fargo & Company",category:"Finance"},{symbol:"GS",name:"Goldman Sachs Group",category:"Finance"},{symbol:"V",name:"Visa Inc.",category:"Finance"},{symbol:"MA",name:"Mastercard Inc.",category:"Finance"},{symbol:"JNJ",name:"Johnson & Johnson",category:"Healthcare"},{symbol:"UNH",name:"UnitedHealth Group",category:"Healthcare"},{symbol:"PFE",name:"Pfizer Inc.",category:"Healthcare"},{symbol:"ABBV",name:"AbbVie Inc.",category:"Healthcare"},{symbol:"WMT",name:"Walmart Inc.",category:"Retail"},{symbol:"HD",name:"Home Depot Inc.",category:"Retail"},{symbol:"COST",name:"Costco Wholesale",category:"Retail"},{symbol:"NKE",name:"Nike Inc.",category:"Consumer"},{symbol:"SBUX",name:"Starbucks Corporation",category:"Consumer"},{symbol:"MCD",name:"McDonald's Corporation",category:"Consumer"},{symbol:"DIS",name:"Walt Disney Company",category:"Entertainment"},{symbol:"XOM",name:"Exxon Mobil Corporation",category:"Energy"},{symbol:"CVX",name:"Chevron Corporation",category:"Energy"},{symbol:"PLTR",name:"Palantir Technologies",category:"Software"},{symbol:"COIN",name:"Coinbase Global",category:"Crypto"},{symbol:"ROKU",name:"Roku Inc.",category:"Entertainment"},{symbol:"SHOP",name:"Shopify Inc.",category:"E-Commerce"},{symbol:"UBER",name:"Uber Technologies",category:"Transportation"},{symbol:"SPY",name:"S&P 500 ETF",category:"ETF"},{symbol:"QQQ",name:"Nasdaq-100 ETF",category:"ETF"},{symbol:"IWM",name:"Russell 2000 ETF",category:"ETF"},{symbol:"DIA",name:"Dow Jones ETF",category:"ETF"}];(0,i.useEffect)(()=>{j.length>0?(f(F.filter(e=>e.symbol.toLowerCase().includes(j.toLowerCase())||e.name.toLowerCase().includes(j.toLowerCase())).slice(0,10)),N(!0)):(f([]),N(!1))},[j,F]),(0,i.useEffect)(()=>{let e=e=>{M.current&&!M.current.contains(e.target)&&N(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let E=e=>{p(e),v(""),N(!1)};return(0,i.useEffect)(()=>{g&&(A(!0),T(null),w(null),fetch("/api/market/quote?symbol=".concat(encodeURIComponent(g))).then(async e=>{if(!e.ok)throw Error("Failed to fetch market data");return e.json()}).then(e=>{w({price:e.regularMarketPrice,change:e.regularMarketChangePercent,volume:e.regularMarketVolume})}).catch(e=>{T("Could not load live data")}).finally(()=>A(!1)))},[g]),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),"Stock Selector"]}),(0,a.jsx)(r.BT,{children:"Search or select from popular stocks"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative",ref:M,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)(c.p,{type:"text",placeholder:"Search stocks by symbol or name...",value:j,onChange:e=>v(e.target.value),onFocus:()=>j&&N(!0),className:"pl-10"})]}),b&&y.length>0&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-background border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:y.map(e=>(0,a.jsxs)("button",{onClick:()=>E(e.symbol),className:"w-full px-4 py-3 text-left hover:bg-muted transition-colors flex items-center justify-between group",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e.category}),(0,a.jsx)(u.A,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]},e.symbol))})]}),(0,a.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Currently Selected"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:g}),S?(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Loading price..."}):C?(0,a.jsx)("div",{className:"text-xs text-red-500 mt-1",children:C}):k&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1 flex gap-4",children:[(0,a.jsxs)("span",{children:["Price: ",(0,a.jsxs)("span",{className:"text-white font-semibold",children:["$",null!=(l=null==(s=k.price)?void 0:s.toFixed(2))?l:"--"]})]}),(0,a.jsxs)("span",{children:["Change: ",(0,a.jsx)("span",{className:k.change&&k.change>=0?"text-green-500":"text-red-500",children:void 0!==k.change?"".concat(k.change>=0?"+":"").concat(k.change.toFixed(2),"%"):"--"})]}),(0,a.jsxs)("span",{children:["Vol: ",(0,a.jsx)("span",{className:"text-white font-semibold",children:null!=(n=null==(t=k.volume)?void 0:t.toLocaleString())?n:"--"})]})]})]}),(0,a.jsx)(d.E,{variant:"outline",children:"Active"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Popular Stocks"})]}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["AAPL","MSFT","GOOGL","AMZN","TSLA","META","NVDA","SPY","QQQ","AMD"].map(e=>(0,a.jsx)(o.$,{variant:g===e?"default":"outline",size:"sm",onClick:()=>E(e),className:"font-mono",children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("h3",{className:"font-semibold",children:"High Options Volume"})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["SPY","QQQ","TSLA","AAPL","NVDA","AMD"].map(e=>(0,a.jsx)(o.$,{variant:g===e?"default":"outline",size:"sm",onClick:()=>E(e),className:"font-mono",children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-3",children:"Browse by Category"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Tech","Finance","Healthcare","Energy","Retail","ETF","Semiconductors","Software"].map(e=>(0,a.jsx)(d.E,{variant:"outline",className:"cursor-pointer hover:bg-muted transition-colors justify-center py-2",children:e},e))})]})]})]})}var g=t(591),j=t(5224),v=t(8821),y=t(7145),f=t(5928),b=t(4756);function N(e){let{...s}=e;return(0,a.jsx)(j.bL,{"data-slot":"select",...s})}function k(e){let{...s}=e;return(0,a.jsx)(j.WT,{"data-slot":"select-value",...s})}function w(e){let{className:s,size:t="default",children:i,...r}=e;return(0,a.jsxs)(j.l9,{"data-slot":"select-trigger","data-size":t,className:(0,b.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r,children:[i,(0,a.jsx)(j.In,{asChild:!0,children:(0,a.jsx)(v.A,{className:"size-4 opacity-50"})})]})}function S(e){let{className:s,children:t,position:i="popper",...r}=e;return(0,a.jsx)(j.ZL,{children:(0,a.jsxs)(j.UC,{"data-slot":"select-content",className:(0,b.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...r,children:[(0,a.jsx)(C,{}),(0,a.jsx)(j.LM,{className:(0,b.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(T,{})]})})}function A(e){let{className:s,children:t,...i}=e;return(0,a.jsxs)(j.q7,{"data-slot":"select-item",className:(0,b.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(j.VF,{children:(0,a.jsx)(y.A,{className:"size-4"})})}),(0,a.jsx)(j.p4,{children:t})]})}function C(e){let{className:s,...t}=e;return(0,a.jsx)(j.PP,{"data-slot":"select-scroll-up-button",className:(0,b.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(f.A,{className:"size-4"})})}function T(e){let{className:s,...t}=e;return(0,a.jsx)(j.wn,{"data-slot":"select-scroll-down-button",className:(0,b.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(v.A,{className:"size-4"})})}var M=t(3235),F=t(135);let E=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(M.bL,{className:(0,b.cn)("grid gap-2",t),...i,ref:s})});E.displayName=M.bL.displayName;let L=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(M.q7,{ref:s,className:(0,b.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...i,children:(0,a.jsx)(M.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(F.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});L.displayName=M.q7.displayName;var P=t(1113);function I(e){let{className:s,orientation:t="horizontal",decorative:i=!0,...r}=e;return(0,a.jsx)(P.b,{"data-slot":"separator",decorative:i,orientation:t,className:(0,b.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...r})}var R=t(2067),O=t(2795),D=t(7349),$=t(5533),B=t(6880),z=t(9423);function V(){let[e,s]=(0,i.useState)({symbol:"",optionType:"call",strike:0,expiry:"",quantity:1,price:0,orderType:"limit",action:"buy"}),[t,l]=(0,i.useState)(!1),[n,m]=(0,i.useState)(null),u=()=>e.quantity*e.price*100,h=()=>{let s=[];return e.symbol||s.push("Symbol is required"),e.strike<=0&&s.push("Strike price must be greater than 0"),e.expiry||s.push("Expiry date is required"),e.quantity<=0&&s.push("Quantity must be greater than 0"),"limit"===e.orderType&&e.price<=0&&s.push("Limit price is required"),s},p=async()=>{console.log("Submit order clicked!");let t=h();if(t.length>0)return void z.o.error("Validation Error: ".concat(t.join(", ")));l(!0);try{var a;let t={optionId:"".concat(e.symbol,"-").concat(e.expiry,"-").concat(e.strike,"-").concat(e.optionType),orderType:e.action,quantity:e.quantity,price:"market"===e.orderType?0:e.price};console.log("Placing order:",t);let i=await fetch("/api/options/price/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await i.json();if(!i.ok)throw Error(r.error||"Failed to place order");let l="buy"===e.action?"BUY TO OPEN":"SELL TO OPEN",n="".concat(e.symbol," $").concat(e.strike).concat(e.optionType.charAt(0).toUpperCase()," ").concat(e.expiry);z.o.success("Order Placed Successfully!",{description:"".concat(l," ").concat(e.quantity," ").concat(n," - New Balance: $").concat(null==(a=r.newBalance)?void 0:a.toLocaleString())}),s({symbol:"",optionType:"call",strike:0,expiry:"",quantity:1,price:0,orderType:"limit",action:"buy"}),m(null),window.dispatchEvent(new CustomEvent("orderPlaced",{detail:r}))}catch(e){console.error("Order submission error:",e),z.o.error("Order Failed - ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{l(!1)}};return(0,a.jsxs)(r.Zp,{className:"h-fit",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(O.A,{className:"h-5 w-5"}),"Order Entry"]}),(0,a.jsx)(r.BT,{children:"Place options orders"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsx)(o.$,{onClick:()=>{s({symbol:"AAPL",optionType:"call",strike:180,expiry:"2024-02-16",quantity:1,price:3.25,orderType:"limit",action:"buy"}),z.o.info("Form filled with AAPL sample data")},variant:"outline",size:"sm",className:"w-full",children:"Quick Fill AAPL (For Testing)"}),(0,a.jsxs)(E,{value:e.action,onValueChange:t=>s({...e,action:t}),className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(L,{value:"buy",id:"buy"}),(0,a.jsxs)(g.Label,{htmlFor:"buy",className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 text-green-600"}),"Buy to Open"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(L,{value:"sell",id:"sell"}),(0,a.jsxs)(g.Label,{htmlFor:"sell",className:"flex items-center gap-1",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 text-red-600"}),"Sell to Open"]})]})]}),(0,a.jsx)(I,{}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"symbol",children:"Symbol *"}),(0,a.jsx)(c.p,{id:"symbol",placeholder:"AAPL",value:e.symbol,onChange:t=>s({...e,symbol:t.target.value.toUpperCase()})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"option-type",children:"Option Type *"}),(0,a.jsxs)(N,{value:e.optionType,onValueChange:t=>s({...e,optionType:t}),children:[(0,a.jsx)(w,{children:(0,a.jsx)(k,{})}),(0,a.jsxs)(S,{children:[(0,a.jsx)(A,{value:"call",children:"Call"}),(0,a.jsx)(A,{value:"put",children:"Put"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"strike",children:"Strike Price *"}),(0,a.jsx)(c.p,{id:"strike",type:"number",step:"0.01",placeholder:"180.00",value:e.strike||"",onChange:t=>s({...e,strike:parseFloat(t.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"expiry",children:"Expiry Date *"}),(0,a.jsx)(c.p,{id:"expiry",type:"date",value:e.expiry,onChange:t=>s({...e,expiry:t.target.value}),min:new Date().toISOString().split("T")[0]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"quantity",children:"Quantity *"}),(0,a.jsx)(c.p,{id:"quantity",type:"number",min:"1",value:e.quantity,onChange:t=>s({...e,quantity:parseInt(t.target.value)||1})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"order-type",children:"Order Type *"}),(0,a.jsxs)(N,{value:e.orderType,onValueChange:t=>s({...e,orderType:t}),children:[(0,a.jsx)(w,{children:(0,a.jsx)(k,{})}),(0,a.jsxs)(S,{children:[(0,a.jsx)(A,{value:"market",children:"Market"}),(0,a.jsx)(A,{value:"limit",children:"Limit"}),(0,a.jsx)(A,{value:"stop",children:"Stop"})]})]})]})]}),"limit"===e.orderType&&(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"price",children:"Limit Price *"}),(0,a.jsx)(c.p,{id:"price",type:"number",step:"0.01",min:"0.01",placeholder:"3.25",value:e.price||"",onChange:t=>s({...e,price:parseFloat(t.target.value)||0})})]}),n&&(0,a.jsxs)(R.Fc,{children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),(0,a.jsx)(R.TN,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Order Preview:"}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("div",{children:[n.action," ",n.quantity," ",n.contract]}),(0,a.jsxs)("div",{children:["Order Type: ",n.orderType]}),(0,a.jsxs)("div",{children:["Price: ",n.price]}),(0,a.jsxs)("div",{children:["Total Value: $",n.totalValue.toLocaleString()]}),(0,a.jsxs)("div",{children:["Est. Commission: $",n.estimatedCommission.toFixed(2)]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Order Value:"}),(0,a.jsxs)(d.E,{variant:"outline",children:["$",u().toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Contracts:"}),(0,a.jsx)("span",{children:e.quantity})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Per Contract:"}),(0,a.jsxs)("span",{children:["$",e.price.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Commission:"}),(0,a.jsxs)("span",{children:["$",(.65*e.quantity).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"text-sm",children:["Form Valid: ",0===h().length?"✅ Yes":"❌ No",0!==h().length&&(0,a.jsx)("div",{className:"text-red-600 text-xs mt-1",children:h().join(", ")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.$,{onClick:()=>{let s=h();if(s.length>0)return void z.o.error("Validation Error: ".concat(s.join(", ")));m({contract:"".concat(e.symbol," ").concat(e.expiry," ").concat(e.strike).concat(e.optionType.charAt(0).toUpperCase()),action:e.action.toUpperCase(),quantity:e.quantity,orderType:e.orderType.toUpperCase(),price:"market"===e.orderType?"Market":"$".concat(e.price.toFixed(2)),totalValue:u(),estimatedCommission:.65*e.quantity}),z.o.success("Order preview generated successfully!")},variant:"outline",className:"w-full",disabled:0!==h().length,children:"Preview Order"}),(0,a.jsx)(o.$,{onClick:p,className:"w-full",variant:"buy"===e.action?"default":"destructive",disabled:0!==h().length||t,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Placing Order..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"buy"===e.action?"Buy to Open":"Sell to Open"]})})]}),0!==h().length&&(0,a.jsxs)(R.Fc,{variant:"destructive",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),(0,a.jsx)(R.TN,{children:"Please fill in all required fields marked with *"})]})]})]})}var U=t(6397),q=t(3592);function Z(){let[e,s]=(0,i.useState)("AAPL"),[t,n]=(0,i.useState)("2024-02-16"),[m,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(182.45),[j,v]=(0,i.useState)([{strike:175,bid:8.2,ask:8.3,last:8.25,volume:1250,openInterest:4580,iv:28.5,delta:.75,gamma:.012},{strike:180,bid:4.8,ask:4.9,last:4.85,volume:2150,openInterest:6720,iv:29.8,delta:.65,gamma:.015},{strike:185,bid:2.15,ask:2.25,last:2.2,volume:1890,openInterest:3240,iv:31.2,delta:.45,gamma:.018},{strike:190,bid:.85,ask:.95,last:.9,volume:980,openInterest:2140,iv:32.8,delta:.28,gamma:.016}]),[y,f]=(0,i.useState)([{strike:175,bid:1.2,ask:1.3,last:1.25,volume:850,openInterest:2580,iv:27.5,delta:-.25,gamma:.012},{strike:180,bid:2.8,ask:2.9,last:2.85,volume:1650,openInterest:4720,iv:28.8,delta:-.35,gamma:.015},{strike:185,bid:5.15,ask:5.25,last:5.2,volume:1390,openInterest:5240,iv:30.2,delta:-.55,gamma:.018},{strike:190,bid:8.85,ask:8.95,last:8.9,volume:780,openInterest:3140,iv:31.8,delta:-.72,gamma:.016}]),b=(0,i.useCallback)(async()=>{u(!0);try{await new Promise(e=>setTimeout(e,1e3)),p(e=>e+(Math.random()-.5)*2),v(e=>e.map(e=>({...e,bid:e.bid+(Math.random()-.5)*.1,ask:e.ask+(Math.random()-.5)*.1,last:e.last+(Math.random()-.5)*.1,volume:e.volume+Math.floor(100*Math.random())}))),f(e=>e.map(e=>({...e,bid:e.bid+(Math.random()-.5)*.1,ask:e.ask+(Math.random()-.5)*.1,last:e.last+(Math.random()-.5)*.1,volume:e.volume+Math.floor(100*Math.random())}))),z.o.success("Options chain refreshed for ".concat(e))}catch(e){console.error("Failed to refresh options chain:",e),z.o.error("Failed to refresh options chain")}finally{u(!1)}},[e]);(0,i.useEffect)(()=>{let e=setInterval(()=>{b()},3e4);return()=>clearInterval(e)},[b]);let N=(s,t,a)=>{z.o.success("".concat(a.toUpperCase()," ").concat(t.toUpperCase()," ").concat(e," $").concat(s.strike," initiated"))};return(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Live Options Chain"}),(0,a.jsx)(r.BT,{children:"Real-time options data with trading capabilities"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(g.Label,{htmlFor:"chain-symbol",children:"Symbol"}),(0,a.jsx)(c.p,{id:"chain-symbol",value:e,onChange:e=>s(e.target.value.toUpperCase()),placeholder:"Enter symbol"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(g.Label,{htmlFor:"chain-expiry",children:"Expiry Date"}),(0,a.jsx)(c.p,{id:"chain-expiry",type:"date",value:t,onChange:e=>n(e.target.value)})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)(o.$,{onClick:b,disabled:m,children:[(0,a.jsx)(q.A,{className:"h-4 w-4 mr-2 ".concat(m?"animate-spin":"")}),"Refresh"]})})]}),(0,a.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:e}),(0,a.jsx)(d.E,{variant:"outline",className:"ml-2",children:"Stock"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",h.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-green-600 flex items-center",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"+$2.15 (+1.19%)"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[(0,a.jsx)(D.A,{className:"h-3 w-3 mr-1"}),"Previous: $180.30"]})]})]})}),(0,a.jsxs)(l.Tabs,{defaultValue:"calls",className:"w-full",children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(l.TabsTrigger,{value:"calls",children:"Calls"}),(0,a.jsx)(l.TabsTrigger,{value:"puts",children:"Puts"})]}),(0,a.jsx)(l.TabsContent,{value:"calls",children:(0,a.jsx)("div",{className:"border rounded-lg overflow-x-auto",children:(0,a.jsxs)(U.XI,{children:[(0,a.jsx)(U.A0,{children:(0,a.jsxs)(U.Hj,{children:[(0,a.jsx)(U.nd,{children:"Strike"}),(0,a.jsx)(U.nd,{children:"Bid"}),(0,a.jsx)(U.nd,{children:"Ask"}),(0,a.jsx)(U.nd,{children:"Last"}),(0,a.jsx)(U.nd,{children:"Volume"}),(0,a.jsx)(U.nd,{children:"OI"}),(0,a.jsx)(U.nd,{children:"IV"}),(0,a.jsx)(U.nd,{children:"Delta"}),(0,a.jsx)(U.nd,{children:"Actions"})]})}),(0,a.jsx)(U.BF,{children:j.map(e=>(0,a.jsxs)(U.Hj,{className:180===e.strike?"bg-muted/50":"",children:[(0,a.jsxs)(U.nA,{className:"font-medium",children:["$",e.strike,5>Math.abs(e.strike-h)&&(0,a.jsx)(d.E,{variant:"secondary",className:"ml-1 text-xs",children:"ATM"})]}),(0,a.jsxs)(U.nA,{children:["$",e.bid.toFixed(2)]}),(0,a.jsxs)(U.nA,{children:["$",e.ask.toFixed(2)]}),(0,a.jsxs)(U.nA,{className:"font-medium",children:["$",e.last.toFixed(2)]}),(0,a.jsx)(U.nA,{children:e.volume.toLocaleString()}),(0,a.jsx)(U.nA,{children:e.openInterest.toLocaleString()}),(0,a.jsxs)(U.nA,{children:[e.iv.toFixed(1),"%"]}),(0,a.jsx)(U.nA,{children:e.delta.toFixed(2)}),(0,a.jsx)(U.nA,{children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>N(e,"call","buy"),children:"Buy"}),(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>N(e,"call","sell"),children:"Sell"})]})})]},e.strike))})]})})}),(0,a.jsx)(l.TabsContent,{value:"puts",children:(0,a.jsx)("div",{className:"border rounded-lg overflow-x-auto",children:(0,a.jsxs)(U.XI,{children:[(0,a.jsx)(U.A0,{children:(0,a.jsxs)(U.Hj,{children:[(0,a.jsx)(U.nd,{children:"Strike"}),(0,a.jsx)(U.nd,{children:"Bid"}),(0,a.jsx)(U.nd,{children:"Ask"}),(0,a.jsx)(U.nd,{children:"Last"}),(0,a.jsx)(U.nd,{children:"Volume"}),(0,a.jsx)(U.nd,{children:"OI"}),(0,a.jsx)(U.nd,{children:"IV"}),(0,a.jsx)(U.nd,{children:"Delta"}),(0,a.jsx)(U.nd,{children:"Actions"})]})}),(0,a.jsx)(U.BF,{children:y.map(e=>(0,a.jsxs)(U.Hj,{className:180===e.strike?"bg-muted/50":"",children:[(0,a.jsxs)(U.nA,{className:"font-medium",children:["$",e.strike,5>Math.abs(e.strike-h)&&(0,a.jsx)(d.E,{variant:"secondary",className:"ml-1 text-xs",children:"ATM"})]}),(0,a.jsxs)(U.nA,{children:["$",e.bid.toFixed(2)]}),(0,a.jsxs)(U.nA,{children:["$",e.ask.toFixed(2)]}),(0,a.jsxs)(U.nA,{className:"font-medium",children:["$",e.last.toFixed(2)]}),(0,a.jsx)(U.nA,{children:e.volume.toLocaleString()}),(0,a.jsx)(U.nA,{children:e.openInterest.toLocaleString()}),(0,a.jsxs)(U.nA,{children:[e.iv.toFixed(1),"%"]}),(0,a.jsx)(U.nA,{children:e.delta.toFixed(2)}),(0,a.jsx)(U.nA,{children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>N(e,"put","buy"),children:"Buy"}),(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>N(e,"put","sell"),children:"Sell"})]})})]},e.strike))})]})})})]})]})})]})}var _=t(5596),W=t(3290),H=t(636),Q=t(6010),G=t(8514),Y=t(5161),X=t(2957),J=t(9688),K=t(8795);function ee(){var e,s,t,l,n,c;let[m,u]=(0,i.useState)("AAPL"),[h,p]=(0,i.useState)("1M"),[g,j]=(0,i.useState)([]),[v,y]=(0,i.useState)([]),{marketData:f,isConnected:b,getSymbolData:N}=function(e){let[s,t]=(0,i.useState)(new Map),[a,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let s=Y.N.channel("market-data");return s.on("broadcast",{event:"price-update"},s=>{let a=s.payload;(!e||e.includes(a.symbol))&&t(e=>new Map(e.set(a.symbol,a)))}).subscribe(e=>{r("SUBSCRIBED"===e),console.log("Market data subscription status:",e)}),()=>{Y.N.removeChannel(s)}},[e]),{marketData:s,isConnected:a,getSymbolData:e=>s.get(e),getAllData:()=>Array.from(s.values())}}([m]),k=N(m),w=(0,X.XC)().getStock(m),[S,A]=(0,i.useState)((null==w?void 0:w.price)||182.45),[C,T]=(0,i.useState)(0),[M,F]=(0,i.useState)(0),[E,L]=(0,i.useState)(!0),P=(0,i.useRef)(null),I=e=>{u(e),j([]),y([])};(0,i.useEffect)(()=>{if(k){let e={timestamp:new Date(k.timestamp).getTime(),price:k.price,volume:k.volume};if(j(s=>[...s.slice(-99),e]),A(k.price),T(k.change),F(k.changePercent),Math.abs(k.changePercent)>1){let e=O(k);e&&y(s=>[e,...s.slice(0,4)])}}},[k]),(0,i.useEffect)(()=>{(async()=>{if(w){let e=(0,X.XC)(),s=await e.generateRandomWalk(m,w.price,w.volatility,100),t=Date.now();j(s.map((e,s)=>({timestamp:t-(100-s)*6e4,price:e,volume:Math.floor(1e6*Math.random())+5e5}))),A(w.price)}})()},[m,w]),(0,i.useEffect)(()=>(E&&!P.current?P.current=setInterval(()=>{w&&(0,X.XC)().updatePrices()},3e4):!E&&P.current&&(clearInterval(P.current),P.current=null),()=>{P.current&&(clearInterval(P.current),P.current=null)}),[E,w]);let O=e=>{let s,t,a=Math.abs(e.changePercent);return a<.5?null:(e.changePercent>1.5?(s="buy",t="Strong upward momentum - Consider call options"):e.changePercent<-1.5?(s="sell",t="Bearish pressure detected - Put options recommended"):(s="neutral",t="Moderate volatility - Straddle strategy may be optimal"),{id:Math.random().toString(36).substr(2,9),type:s,strength:Math.min(50*a,100),price:e.price,message:t,timestamp:Date.now()})},$={labels:g.map(e=>new Date(e.timestamp)),datasets:[{label:"".concat(m," Price"),data:g.map(e=>e.price),borderColor:C>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)",backgroundColor:C>=0?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.1}]};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-5 w-5"}),"Live Trading Chart",E&&(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),(0,a.jsx)(r.BT,{children:"Real-time price data with AI-powered trading signals"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(o.$,{variant:"1D"===h?"default":"outline",size:"sm",onClick:()=>p("1D"),children:"1D"}),(0,a.jsx)(o.$,{variant:"5D"===h?"default":"outline",size:"sm",onClick:()=>p("5D"),children:"5D"}),(0,a.jsx)(o.$,{variant:"1M"===h?"default":"outline",size:"sm",onClick:()=>p("1M"),children:"1M"}),(0,a.jsx)(o.$,{variant:"3M"===h?"default":"outline",size:"sm",onClick:()=>p("3M"),children:"3M"}),(0,a.jsx)(o.$,{variant:"1Y"===h?"default":"outline",size:"sm",onClick:()=>p("1Y"),children:"1Y"}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{L(!E),!E&&P.current&&(clearInterval(P.current),P.current=null)},children:[E?"Pause":"Resume"," Live"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)(H.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"text-sm",children:b?"Live Data":"Connecting..."}),b&&(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>I(e.target.value.toUpperCase()),className:"px-2 py-1 border rounded text-sm w-20",placeholder:"Symbol"}),(0,a.jsx)(d.E,{variant:"outline",children:m}),(0,a.jsxs)(d.E,{variant:"default",children:["$",S.toFixed(2)]}),(0,a.jsxs)(d.E,{variant:"secondary",className:C>=0?"text-green-600":"text-red-600",children:[C>=0?(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(D.A,{className:"h-3 w-3 mr-1"}),C>=0?"+":"","$",C.toFixed(2)," (",M>=0?"+":"",M.toFixed(2),"%)"]}),f&&Object.keys(f).length>0&&(0,a.jsxs)(d.E,{variant:"outline",children:[Object.keys(f).length," symbols"]})]})]}),(0,a.jsx)("div",{className:"h-96 bg-white rounded-lg border p-4",children:g.length>0?(0,a.jsx)(K.N1,{data:$,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,callbacks:{label:e=>"Price: $".concat(e.parsed.y.toFixed(2))}}},scales:{x:{type:"time",time:{displayFormats:{minute:"HH:mm",hour:"HH:mm"}},grid:{display:!1}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:e=>"$".concat(Number(e).toFixed(2))}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(W.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Open"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",(null==w||null==(e=w.open)?void 0:e.toFixed(2))||(null==k||null==(s=k.open)?void 0:s.toFixed(2))||"180.30"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"High"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",(null==w||null==(t=w.high)?void 0:t.toFixed(2))||(null==k||null==(l=k.high)?void 0:l.toFixed(2))||Math.max(...g.map(e=>e.price)).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Low"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",(null==w||null==(n=w.low)?void 0:n.toFixed(2))||(null==k||null==(c=k.low)?void 0:c.toFixed(2))||Math.min(...g.map(e=>e.price)).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Volume"}),(0,a.jsxs)("div",{className:"font-medium",children:[(null==w?void 0:w.volume)?(w.volume/1e6).toFixed(1):(null==k?void 0:k.volume)?(k.volume/1e6).toFixed(1):"45.2","M"]})]})]})]})})]}),v.length>0&&(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"h-5 w-5"}),"Live Trading Signals",(0,a.jsx)(d.E,{variant:"secondary",children:v.length})]}),(0,a.jsx)(r.BT,{children:"AI-powered trading opportunities based on real-time analysis"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>(0,a.jsx)(R.Fc,{className:"border-l-4 ".concat("buy"===e.type?"border-l-green-500":"sell"===e.type?"border-l-red-500":"border-l-yellow-500"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:["buy"===e.type?(0,a.jsx)(x.A,{className:"h-4 w-4 text-green-600 mt-0.5"}):"sell"===e.type?(0,a.jsx)(D.A,{className:"h-4 w-4 text-red-600 mt-0.5"}):(0,a.jsx)(G.A,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(R.TN,{className:"font-medium",children:e.message}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Signal strength: ",e.strength.toFixed(0),"% | Price: $",e.price.toFixed(2)," |",new Date(e.timestamp).toLocaleTimeString()]})]})]}),(0,a.jsx)(d.E,{variant:"buy"===e.type?"default":"sell"===e.type?"destructive":"secondary",children:e.type.toUpperCase()})]})},e.id))})})]})]})}function es(){return(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),"Market Scanner"]}),(0,a.jsx)(r.BT,{children:"AI-powered trading opportunities"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[{symbol:"NVDA",description:"High IV Rank",ivRank:85,action:"Sell Premium",probability:75,price:485.23,change:2.45},{symbol:"META",description:"Earnings Play",ivRank:92,action:"Straddle",probability:68,price:342.18,change:-1.23},{symbol:"AMZN",description:"Technical Breakout",ivRank:45,action:"Buy Calls",probability:72,price:145.67,change:3.89}].map((e,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.symbol}),(0,a.jsxs)(d.E,{variant:"outline",children:["$",e.price]}),(0,a.jsxs)(d.E,{variant:e.change>=0?"default":"destructive",children:[e.change>=0?"+":"",e.change,"%"]}),e.probability>70&&(0,a.jsx)(x.A,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,a.jsx)(o.$,{size:"sm",children:"Trade"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"IV Rank"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.ivRank,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Strategy"}),(0,a.jsx)("div",{className:"font-medium",children:e.action})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Success Rate"}),(0,a.jsxs)("div",{className:"font-medium text-green-600",children:[e.probability,"%"]})]})]})]},s))})})]})}t(4029),J.t1.register(J.PP,J.kc,J.FN,J.No,J.hE,J.m_,J.s$,J.UA);var et=t(9398),ea=t(8010),ei=t(7884);function er(){let[e,s]=(0,i.useState)("50000"),[t,l]=(0,i.useState)("2500"),n=(()=>{let s=parseFloat(e)||0,a=parseFloat(t)||0,i=a/s*100;return{percentage:i,maxLoss:a,riskLevel:i>10?"high":i>5?"medium":"low"}})();return(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ea.A,{className:"h-5 w-5"}),"Risk Calculator"]}),(0,a.jsx)(r.BT,{children:"Position sizing and risk management"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"portfolio-value",children:"Portfolio Value"}),(0,a.jsx)(c.p,{id:"portfolio-value",placeholder:"50000",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{htmlFor:"position-size",children:"Position Size"}),(0,a.jsx)(c.p,{id:"position-size",placeholder:"2500",value:t,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Risk Percentage:"}),(0,a.jsxs)(d.E,{variant:"high"===n.riskLevel?"destructive":"medium"===n.riskLevel?"secondary":"default",children:[n.percentage.toFixed(2),"%"]})]}),(0,a.jsx)(et.k,{value:Math.min(n.percentage,100),className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Max Loss:"}),(0,a.jsxs)("span",{children:["$",n.maxLoss.toLocaleString()]})]}),"high"===n.riskLevel&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4"}),"High risk position - consider reducing size"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-green-600 font-medium",children:"Low Risk"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"<5%"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-yellow-600 font-medium",children:"Medium Risk"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"5-10%"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-600 font-medium",children:"High Risk"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:">10%"})]})]})]})]})}function el(){let[e,s]=(0,i.useState)("SPY");return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Stock Selector"}),(0,a.jsx)(r.BT,{children:"Select a stock to trade"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)(p,{onSelectStock:s,currentSymbol:e})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Trading Chart"}),(0,a.jsx)(r.BT,{children:"Visualize price and technicals"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)(ee,{})})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Order Entry"}),(0,a.jsx)(r.BT,{children:"Place trades"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)(V,{})})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Trading Tools"}),(0,a.jsx)(r.BT,{children:"Options, positions, scanner, and risk"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)(l.Tabs,{defaultValue:"chain",className:"space-y-4",children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(l.TabsTrigger,{value:"chain",children:"Options Chain"}),(0,a.jsx)(l.TabsTrigger,{value:"positions",children:"Positions"}),(0,a.jsx)(l.TabsTrigger,{value:"scanner",children:"Scanner"}),(0,a.jsx)(l.TabsTrigger,{value:"risk",children:"Risk"})]}),(0,a.jsx)(l.TabsContent,{value:"chain",className:"space-y-4",children:(0,a.jsx)(Z,{})}),(0,a.jsx)(l.TabsContent,{value:"positions",className:"space-y-4",children:(0,a.jsx)(_.A,{})}),(0,a.jsx)(l.TabsContent,{value:"scanner",className:"space-y-4",children:(0,a.jsx)(es,{})}),(0,a.jsx)(l.TabsContent,{value:"risk",className:"space-y-4",children:(0,a.jsx)(er,{})})]})})]})]})]})}},7313:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5800);t(5924);var i=t(4756);function r(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5980,3899,2164,8626,8862,1599,1704,9196,5596,7116,9683,7358],()=>s(3158)),_N_E=e.O()}]);