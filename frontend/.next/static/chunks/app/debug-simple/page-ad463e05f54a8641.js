(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4107],{1219:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5800),c=n(5924);function s(){let[e,t]=(0,c.useState)([]),[n,s]=(0,c.useState)(!1),i=e=>{let n=new Date().toLocaleTimeString();t(t=>[...t,"[".concat(n,"] ").concat(e)]),console.log("[".concat(n,"] ").concat(e))};async function l(){i("Testing basic fetch to /api/payment/health..."),s(!0);try{let e=await fetch("/api/payment/health");if(i("Response status: ".concat(e.status)),e.ok){let t=await e.json();i("✅ Success: ".concat(JSON.stringify(t,null,2)))}else{let t=await e.text();i("❌ Error: ".concat(t))}}catch(e){i("❌ Exception: ".concat(e))}finally{s(!1)}}async function o(){i("Testing /api/payment/checkout with premium plan..."),s(!0);try{let e=await fetch("/api/payment/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:"premium"})});i("Response status: ".concat(e.status));let t=await e.json();i("Response: ".concat(JSON.stringify(t,null,2))),e.ok?(i("✅ Success!"),t.url&&i("Stripe URL: ".concat(t.url))):i("❌ Error: ".concat(t.error||"Unknown error"))}catch(e){i("❌ Exception: ".concat(e))}finally{s(!1)}}async function r(){i("Checking environment variables..."),i("Window location: ".concat(window.location.href)),i("User agent: ".concat(navigator.userAgent));try{let e=Object.keys(localStorage);i("LocalStorage keys: ".concat(e.length," found")),e.forEach(e=>{(e.includes("supabase")||e.includes("auth"))&&i("  - ".concat(e))})}catch(e){i("Cannot access localStorage: ".concat(e))}i("Cookies: ".concat(document.cookie?"Present":"None"))}async function d(){i("Testing if we can fetch the pricing page..."),s(!0);try{let e=await fetch("/pricing");i("Pricing page status: ".concat(e.status)),e.ok?i("✅ Pricing page is accessible"):i("❌ Pricing page returned: ".concat(e.status))}catch(e){i("❌ Cannot fetch pricing page: ".concat(e))}finally{s(!1)}}return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg p-8 shadow-xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"\uD83D\uDD0D Simple Debug Tool"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:"Basic diagnostic tests (no external dependencies)"}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsx)("button",{onClick:r,disabled:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:"1. Check Environment"}),(0,a.jsx)("button",{onClick:d,disabled:n,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 font-medium",children:"2. Test Pricing Page"}),(0,a.jsx)("button",{onClick:l,disabled:n,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:"3. Test Payment API Health"}),(0,a.jsx)("button",{onClick:o,disabled:n,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium",children:"4. Test Checkout Endpoint"}),(0,a.jsx)("button",{onClick:function(){t([])},className:"w-full bg-slate-600 text-white py-2 px-4 rounded-lg hover:bg-slate-700 font-medium",children:"Clear Logs"})]}),(0,a.jsx)("div",{className:"bg-black rounded-lg p-4 font-mono text-sm max-h-96 overflow-y-auto",children:0===e.length?(0,a.jsx)("div",{className:"text-gray-500",children:"Click a test button above to see logs..."}):e.map((e,t)=>(0,a.jsx)("div",{className:"mb-1 ".concat(e.includes("❌")||e.includes("Error")||e.includes("Exception")?"text-red-400":e.includes("✅")||e.includes("Success")?"text-green-400":e.includes("⚠️")?"text-yellow-400":"text-gray-300"),children:e},t))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-slate-700 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Instructions:"}),(0,a.jsxs)("ol",{className:"text-gray-300 space-y-2 list-decimal list-inside text-sm",children:[(0,a.jsx)("li",{children:"Click each test button in order"}),(0,a.jsx)("li",{children:"Watch the black console for errors (❌ red text)"}),(0,a.jsx)("li",{children:"Take a screenshot of any errors"}),(0,a.jsx)("li",{children:"Share the error messages to get help"})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,a.jsx)("a",{href:"/pricing",className:"text-purple-400 hover:text-purple-300 underline",children:"← Back to Pricing"}),(0,a.jsx)("a",{href:"/debug-subscription",className:"text-purple-400 hover:text-purple-300 underline",children:"Full Debug Tool →"})]})]})})})}},8171:(e,t,n)=>{Promise.resolve().then(n.bind(n,1219))}},e=>{var t=t=>e(e.s=t);e.O(0,[7116,9683,7358],()=>t(8171)),_N_E=e.O()}]);