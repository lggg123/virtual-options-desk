(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{568:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9766).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},639:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9766).A)("chart-candlestick",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]])},1722:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9766).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},2957:(e,t,a)=>{"use strict";a.d(t,{XC:()=>o,kf:()=>l});var r=a(5161);class s{initializeDefaultStocks(){[{symbol:"AAPL",price:182.45,volatility:.25},{symbol:"GOOGL",price:2845.67,volatility:.28},{symbol:"MSFT",price:378.23,volatility:.22},{symbol:"TSLA",price:248.91,volatility:.45},{symbol:"NVDA",price:485.23,volatility:.35},{symbol:"AMZN",price:145.67,volatility:.3},{symbol:"META",price:342.18,volatility:.33},{symbol:"SPY",price:445.23,volatility:.15},{symbol:"QQQ",price:378.91,volatility:.2},{symbol:"IWM",price:195.67,volatility:.25}].forEach(e=>{this.stocks.set(e.symbol,{symbol:e.symbol,price:e.price,lastUpdate:new Date,volatility:e.volatility,volume:Math.floor(1e7*Math.random())+1e6,high:e.price*(1+.02*Math.random()),low:e.price*(1-.02*Math.random()),open:e.price*(1+(Math.random()-.5)*.01)})})}async generateRandomWalk(e,t,a,r){let s=[t],i=1/252/24/60;for(let e=1;e<r;e++){let r=(.05-.5*a*a)*i+a*Math.sqrt(i)*this.generateNormalRandom(),o=Math.max(s[e-1]*Math.exp(r)*(1+.01*this.generateMarketEvent().impact),.5*t);s.push(Math.min(o,2*t))}return s}generateNormalRandom(){let e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}generateMarketEvent(){let e=Math.random();return e<.95?{type:"normal",impact:0,duration:1}:e<.98?{type:"news",impact:(Math.random()-.5)*2,duration:Math.floor(30*Math.random())+5}:e<.995?{type:"volatility_spike",impact:(Math.random()-.5)*4,duration:Math.floor(60*Math.random())+10}:{type:"earnings",impact:(Math.random()-.5)*6,duration:Math.floor(120*Math.random())+30}}async updatePrices(){for(let[e,t]of this.stocks){if((Date.now()-t.lastUpdate.getTime())/6e4<1)continue;let a=(await this.generateRandomWalk(e,t.price,t.volatility,2))[1],r=a-t.price,s=Math.floor(1e6*Math.random())+5e5,i={...t,price:a,lastUpdate:new Date,volume:t.volume+s,high:Math.max(t.high,a),low:Math.min(t.low,a)};this.stocks.set(e,i),await this.broadcastPriceUpdate(e,i,r)}}async broadcastPriceUpdate(e,t,a){try{let s=r.N.channel("market-data");await s.send({type:"broadcast",event:"price-update",payload:{symbol:e,price:t.price,change:a,changePercent:a/(t.price-a)*100,volume:t.volume,high:t.high,low:t.low,open:t.open,timestamp:t.lastUpdate.toISOString()}});let i=r.N,o={symbol:e,price:t.price,volume:t.volume,high:t.high,low:t.low,open:t.open,updated_at:t.lastUpdate.toISOString()};await i.from("stock_prices").upsert(o)}catch(t){console.error("Failed to broadcast price update for ".concat(e,":"),t)}}start(){this.isRunning||(this.isRunning=!0,this.updateInterval=setInterval(()=>{this.updatePrices().catch(e=>{console.error("Error updating prices:",e)})},this.UPDATE_FREQUENCY),console.log("Market simulator started"))}stop(){this.isRunning&&(this.isRunning=!1,this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),console.log("Market simulator stopped"))}getStock(e){return this.stocks.get(e)}getAllStocks(){return new Map(this.stocks)}addStock(e,t,a){if(this.stocks.has(e))return void console.warn("Stock ".concat(e," already exists"));this.stocks.set(e,{symbol:e,price:t,lastUpdate:new Date,volatility:a,volume:Math.floor(1e7*Math.random())+1e6,high:t*(1+.02*Math.random()),low:t*(1-.02*Math.random()),open:t*(1+(Math.random()-.5)*.01)})}removeStock(e){return this.stocks.delete(e)}updateVolatility(e,t){let a=this.stocks.get(e);return!!a&&(this.stocks.set(e,{...a,volatility:t}),!0)}simulateMarketCrash(e){for(let[t,a]of this.stocks){let r=1-e/100,s=a.price*r;this.stocks.set(t,{...a,price:s,low:Math.min(a.low,s),lastUpdate:new Date,volatility:1.5*a.volatility})}console.log("Simulated market crash with ".concat(e,"% impact"))}simulateMarketRally(e){for(let[t,a]of this.stocks){let r=1+e/100,s=a.price*r;this.stocks.set(t,{...a,price:s,high:Math.max(a.high,s),lastUpdate:new Date})}console.log("Simulated market rally with ".concat(e,"% impact"))}constructor(){this.UPDATE_FREQUENCY=2e3,this.stocks=new Map,this.isRunning=!1,this.updateInterval=null,this.initializeDefaultStocks()}}let i=null;function o(){return i||(i=new s),i}function l(){o().start(),console.log("\uD83D\uDE80 Market simulation started with real-time price updates")}},3346:(e,t,a)=>{"use strict";a.d(t,{default:()=>w});var r=a(5800),s=a(1973),i=a.n(s),o=a(6710),l=a(9766);let n=(0,l.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var h=a(568),c=a(639);let d=(0,l.A)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var m=a(3730);let p=(0,l.A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var u=a(8130),g=a(1722),x=a(9505);let y=(0,l.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var f=a(5924),v=a(5161);let k=[{name:"Dashboard",href:"/dashboard",icon:n},{name:"AI Stock Picks",href:"/dashboard/ai-picks",icon:h.A},{name:"Virtual Options",href:"/trading",icon:c.A},{name:"Pattern Detection",href:"/dashboard/patterns",icon:d},{name:"AI Insights Blog",href:"/dashboard/blog",icon:m.A},{name:"Portfolio",href:"/portfolio",icon:p},{name:"Pricing",href:"/pricing",icon:u.A}];function w(){let e=(0,o.usePathname)(),[t,a]=(0,f.useState)(!1),s=async()=>{try{console.log("Starting sign out...");let{error:e}=await v.N.auth.signOut();e?console.error("Sign out error:",e):console.log("Sign out successful"),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(e){console.error("Sign out exception:",e),window.location.href="/login"}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col bg-slate-900 border-r border-slate-800",children:(0,r.jsxs)("div",{className:"flex flex-col flex-1 min-h-0",children:[(0,r.jsxs)("div",{className:"flex items-center h-16 flex-shrink-0 px-6 border-b border-slate-800",children:[(0,r.jsx)(h.A,{className:"w-8 h-8 text-indigo-500"}),(0,r.jsx)("span",{className:"ml-3 text-xl font-bold text-white",children:"AI Stock Picks"})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:k.map(t=>{let a=e===t.href||(null==e?void 0:e.startsWith(t.href+"/"));return(0,r.jsxs)(i(),{href:t.href,className:"\n                    flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors\n                    ".concat(a?"bg-indigo-600 text-white":"text-gray-300 hover:bg-slate-800 hover:text-white","\n                  "),children:[(0,r.jsx)(t.icon,{className:"w-5 h-5 mr-3"}),t.name]},t.name)})}),(0,r.jsxs)("div",{className:"flex-shrink-0 p-4 border-t border-slate-800",children:[(0,r.jsxs)(i(),{href:"/pricing",className:"flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Upgrade to Pro"]}),(0,r.jsxs)("button",{onClick:s,className:"flex items-center justify-center w-full px-4 py-3 mt-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2"}),"Sign Out"]})]})]})}),(0,r.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 flex items-center justify-between h-16 px-4 bg-slate-900 border-b border-slate-800",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"w-6 h-6 text-indigo-500"}),(0,r.jsx)("span",{className:"ml-2 text-lg font-bold text-white",children:"AI Stock Picks"})]}),(0,r.jsx)("button",{onClick:()=>a(!t),className:"p-2 text-gray-400 hover:text-white",children:t?(0,r.jsx)(x.A,{className:"w-6 h-6"}):(0,r.jsx)(y,{className:"w-6 h-6"})})]}),t&&(0,r.jsx)("div",{className:"lg:hidden fixed inset-0 z-40 bg-slate-900 pt-16",children:(0,r.jsxs)("nav",{className:"px-4 py-6 space-y-1",children:[k.map(t=>{let s=e===t.href||(null==e?void 0:e.startsWith(t.href+"/"));return(0,r.jsxs)(i(),{href:t.href,onClick:()=>a(!1),className:"\n                    flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors\n                    ".concat(s?"bg-indigo-600 text-white":"text-gray-300 hover:bg-slate-800 hover:text-white","\n                  "),children:[(0,r.jsx)(t.icon,{className:"w-5 h-5 mr-3"}),t.name]},t.name)}),(0,r.jsxs)(i(),{href:"/pricing",onClick:()=>a(!1),className:"flex items-center justify-center w-full px-4 py-3 mt-4 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Upgrade to Pro"]}),(0,r.jsxs)("button",{onClick:()=>{a(!1),s()},className:"flex items-center justify-center w-full px-4 py-3 mt-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-lg",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2"}),"Sign Out"]})]})})]})}},3704:(e,t,a)=>{"use strict";a.d(t,{MarketSimulationProvider:()=>o});var r=a(5800),s=a(5924),i=a(2957);function o(e){let{children:t}=e;return(0,s.useEffect)(()=>((0,i.kf)(),()=>{}),[]),(0,r.jsx)(r.Fragment,{children:t})}},3730:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9766).A)("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]])},4231:(e,t,a)=>{Promise.resolve().then(a.bind(a,3704)),Promise.resolve().then(a.bind(a,3346)),Promise.resolve().then(a.t.bind(a,6768,23)),Promise.resolve().then(a.t.bind(a,7743,23)),Promise.resolve().then(a.bind(a,9423))},5161:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var r=a(3899),s=a(298);let i=s.env.NEXT_PUBLIC_SUPABASE_URL||"",o=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";i&&o||console.warn("Missing Supabase environment variables");let l=(0,r.createBrowserClient)(i,o)},6710:(e,t,a)=>{"use strict";var r=a(4026);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6768:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}},7743:()=>{},8130:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9766).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[3951,3899,2164,1599,7116,9683,7358],()=>t(4231)),_N_E=e.O()}]);