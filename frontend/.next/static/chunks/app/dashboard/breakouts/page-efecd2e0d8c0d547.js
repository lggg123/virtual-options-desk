(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2144],{251:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});var a=t(6911);let i="https://qcwtkyxvejcogbhbauey.supabase.co/",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9";i&&l||console.warn("Missing Supabase environment variables");let r=(0,a.createBrowserClient)(i,l)},2823:(e,s,t)=>{Promise.resolve().then(t.bind(t,6938))},6938:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(3365),i=t(1521),l=t(251);function r(e){let{message:s,type:t,onClose:i}=e;return s?(0,a.jsx)("div",{className:"fixed top-6 right-6 z-50 px-4 py-2 rounded shadow-lg text-white ".concat("success"===t?"bg-green-600":"bg-red-600"),role:"alert","aria-live":"assertive",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["success"===t?(0,a.jsx)("span",{children:"✅"}):(0,a.jsx)("span",{children:"❌"}),(0,a.jsx)("span",{children:s}),(0,a.jsx)("button",{className:"ml-4 text-white/80 hover:text-white text-sm",onClick:i,"aria-label":"Close notification",children:"✕"})]})}):null}function n(){let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(""),[d,x]=(0,i.useState)(null),[u,m]=(0,i.useState)(null);async function h(){n(!0),c(""),m(null);try{let e=await fetch("/api/ml/breakouts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stocks:[{symbol:"AAPL",open:170,high:175,low:169,close:174,volume:1e8},{symbol:"TSLA",open:250,high:260,low:248,close:259,volume:8e7}],top_n:10})});if(!e.ok)throw Error("API error");let t=await e.json();s(t.breakouts||[]),m({message:"Breakout picks loaded successfully!",type:"success"})}catch(e){c("Failed to fetch breakout picks."),m({message:"Failed to fetch breakout picks.",type:"error"})}finally{n(!1)}}return((0,i.useEffect)(()=>{!async function(){let{data:{session:e}}=await l.N.auth.getSession();if(null==e?void 0:e.user){let s=await fetch("/api/subscription/status?user_id=".concat(e.user.id));s.ok?x((await s.json()).plan||"free"):x("free")}else x("free")}()},[]),null===d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:(0,a.jsx)("span",{className:"text-gray-400 text-lg",children:"Checking subscription..."})}):"pro"!==d&&"premium"!==d?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:(0,a.jsxs)("div",{className:"bg-slate-900 p-8 rounded-lg border border-slate-800 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Breakout Picks & Analysis"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"This feature is available for Pro and Premium members only."}),(0,a.jsx)("a",{href:"/pricing",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Upgrade Now"})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{message:(null==u?void 0:u.message)||"",type:(null==u?void 0:u.type)||"success",onClose:()=>m(null)}),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 to-slate-900 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto w-full",children:[(0,a.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDE80"})," Breakout Picks & Analysis",(0,a.jsxs)("span",{className:"relative group cursor-pointer",children:[(0,a.jsxs)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-indigo-400 inline-block",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,a.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"12",fill:"currentColor",children:"i"})]}),(0,a.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-64 bg-slate-800 text-gray-200 text-xs rounded p-2 shadow-lg opacity-0 group-hover:opacity-100 transition pointer-events-none z-10",children:"Breakout picks are stocks with a high probability of significant upward movement (60-100% in a month), identified by our AI models. Available to Pro & Premium members."})]})]}),(0,a.jsxs)("p",{className:"text-gray-400 mb-6 flex items-center gap-2 text-sm sm:text-base",children:["Top stocks with high breakout probability.",(0,a.jsxs)("span",{className:"relative group cursor-pointer",children:[(0,a.jsxs)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-indigo-400 inline-block",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,a.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"?"})]}),(0,a.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-48 bg-slate-800 text-gray-200 text-xs rounded p-2 shadow-lg opacity-0 group-hover:opacity-100 transition pointer-events-none z-10",children:"Only Pro & Premium plans can access this feature. Upgrade for unlimited picks and advanced analytics."})]})]}),(0,a.jsx)("button",{className:"bg-indigo-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded hover:bg-indigo-700 mb-6 shadow-lg transition text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2",onClick:h,disabled:t,"aria-busy":t,"aria-label":"Get Breakout Picks",children:t?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"animate-spin inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full"})," Loading..."]}):"Get Breakout Picks"}),o&&(0,a.jsxs)("div",{className:"text-red-500 mb-4 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",role:"alert","aria-live":"assertive",children:[(0,a.jsx)("span",{children:o}),(0,a.jsx)("button",{className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2",onClick:h,disabled:t,"aria-label":"Retry fetching breakout picks",children:"Retry"})]}),(0,a.jsx)("ul",{className:"bg-slate-900 rounded-lg border border-slate-800 divide-y divide-slate-800 shadow min-h-[200px] w-full",role:"list","aria-label":"Breakout picks list",children:t&&0===e.length?Array.from({length:5}).map((e,s)=>(0,a.jsxs)("li",{className:"p-4 flex justify-between items-center animate-pulse",children:[(0,a.jsx)("span",{className:"bg-slate-800 h-6 w-24 rounded"}),(0,a.jsx)("span",{className:"bg-slate-800 h-6 w-16 rounded"})]},s)):e.length>0?e.map(e=>(0,a.jsxs)("li",{className:"p-4 flex justify-between items-center hover:bg-slate-800/50 transition-colors",tabIndex:0,"aria-label":"Breakout pick: ".concat(e.symbol,", probability ").concat((100*e.breakout_prob).toFixed(1),"%"),children:[(0,a.jsx)("span",{className:"text-white font-semibold text-base sm:text-lg",children:e.symbol}),(0,a.jsxs)("span",{className:"text-green-400 font-mono text-base sm:text-lg",children:[(100*e.breakout_prob).toFixed(1),"%"]})]},e.symbol)):null})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6911,2347,4870,7358],()=>s(2823)),_N_E=e.O()}]);