(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8695],{251:(e,s,t)=>{"use strict";t.d(s,{N:()=>n});var r=t(6911);let i="https://qcwtkyxvejcogbhbauey.supabase.co/",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9";i&&a||console.warn("Missing Supabase environment variables");let n=(0,r.createBrowserClient)(i,a)},1401:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1456:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(3365),i=t(1521),a=t(251),n=t(2699);let l=(0,t(7982).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=t(6713),d=t(5655),o=t(8760),x=t(1401),h=t(6080),m=t(9534),p=t.n(m),g=t(8005);function u(){let[e,s]=(0,i.useState)([]),[t,m]=(0,i.useState)(!0),[u,v]=(0,i.useState)(null),[b,f]=(0,i.useState)({}),[j,y]=(0,i.useState)(null);async function N(){y(null);try{let{data:{session:e},error:t}=await a.N.auth.getSession();if(t){y("Error fetching session: "+t.message),m(!1);return}if(!(null==e?void 0:e.user)){y("You must be logged in to view AI Picks."),m(!1);return}console.log("[AIPicks] User session:",e.user);let r="free",i=10,n="inactive";try{let s=await fetch("/api/subscription/status?user_id=".concat(e.user.id));if(s.ok){let e=await s.json();r=e.plan||"free",n=e.status||"active","premium"===r?i=50:"pro"===r&&(i=25),v({plan:r,status:n,picks_limit:i}),console.log("[AIPicks] Subscription:",{plan:r,subStatus:n,picksLimit:i})}else v({plan:"free",status:"inactive",picks_limit:10}),y("Could not fetch subscription status. Defaulting to Free plan."),console.warn("[AIPicks] Subscription API error:",s.status)}catch(e){v({plan:"free",status:"inactive",picks_limit:10}),y("Error fetching subscription. Defaulting to Free plan."),console.error("[AIPicks] Subscription fetch error:",e)}let l="/api/ai-picks/free";"pro"===r&&(l="/api/ai-picks/pro"),"premium"===r&&(l="/api/ai-picks/premium");try{let e=await fetch(l);if(e.ok){let t=await e.json();s(t.picks||[]),console.log("[AIPicks] Picks:",t.picks)}else y("Failed to fetch AI picks. API error: "+e.status),s([]),console.error("[AIPicks] Picks API error:",e.status)}catch(e){y("Error fetching AI picks."),s([]),console.error("[AIPicks] Picks fetch error:",e)}}catch(e){y("Unexpected error: "+(e instanceof Error?e.message:String(e))),s([]),console.error("[AIPicks] Unexpected error:",e)}finally{m(!1)}}return(0,i.useEffect)(()=>{N()},[]),(0,i.useEffect)(()=>{if(!e.length)return;let s=!1;return async function(){let t={};await Promise.all(e.map(async e=>{try{let s=await fetch("/api/market/quote?symbol=".concat(encodeURIComponent(e.symbol)));if(!s.ok)return;let r=await s.json();t[e.symbol]={price:r.regularMarketPrice,change:r.regularMarketChangePercent,volume:r.regularMarketVolume}}catch(e){console.warn("[AIPicks] Live quote fetch error:",e)}})),s||f(t)}(),()=>{s=!0}},[e]),(0,r.jsx)("div",{className:"min-h-screen bg-slate-950 p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[j&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-900/80 border border-red-700 text-red-200 rounded-lg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",j]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(n.A,{className:"w-8 h-8 text-indigo-400"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"AI Stock Picks"})]}),(0,r.jsx)("p",{className:"text-gray-400",children:"ML-powered stock analysis and recommendations"})]}),u&&"free"===u.plan&&(0,r.jsx)(p(),{href:"/pricing",children:(0,r.jsxs)(g.$,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600",children:[(0,r.jsx)(l,{className:"w-4 h-4 mr-2"}),"Upgrade for More Picks"]})})]}),u&&(0,r.jsx)("div",{className:"mt-4 p-4 rounded-lg border ".concat("free"===u.plan?"bg-slate-900/50 border-slate-700":"premium"===u.plan?"bg-purple-900/20 border-purple-700":"bg-indigo-900/20 border-indigo-700"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Current Plan"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-white capitalize",children:u.plan})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"AI Picks Limit"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-white",children:-1===u.picks_limit?"Unlimited":"".concat(e.length,"/").concat(u.picks_limit)})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Picks"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-white mt-1",children:[e.length,u&&-1!==u.picks_limit&&(0,r.jsxs)("span",{className:"text-sm text-gray-400 ml-2",children:["/ ",u.picks_limit]})]})]}),(0,r.jsx)(c.A,{className:"w-10 h-10 text-indigo-500"})]})}),(0,r.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Avg Confidence"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:e.length>0?"".concat((e.reduce((e,s)=>e+s.confidence,0)/e.length*100).toFixed(1),"%"):"0%"})]}),(0,r.jsx)(d.A,{className:"w-10 h-10 text-yellow-500"})]})}),(0,r.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Potential Returns"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-400 mt-1",children:e.length>0?"+".concat((e.reduce((e,s)=>e+s.potential_return,0)/e.length).toFixed(1),"%"):"0%"})]}),(0,r.jsx)(o.A,{className:"w-10 h-10 text-green-500"})]})})]}),(0,r.jsxs)("div",{className:"bg-slate-900 rounded-lg border border-slate-800",children:[(0,r.jsx)("div",{className:"p-6 border-b border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white",children:"Today's Picks"}),(null==u?void 0:u.plan)==="free"&&(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Free Tier: Top 10 Stocks"})]})}),t?(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"}),(0,r.jsx)("p",{className:"text-gray-400 mt-4",children:"Analyzing market data with AI..."})]}):0===e.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)(n.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"No picks available at the moment."}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Check back later for fresh AI recommendations."})]}):(0,r.jsx)("div",{className:"divide-y divide-slate-800",children:e.map((e,s)=>{let t=b[e.symbol];return(0,r.jsx)("div",{className:"p-6 hover:bg-slate-800/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-semibold text-gray-400",children:["#",s+1]}),(0,r.jsx)("h3",{className:"text-lg font-bold text-white",children:e.symbol}),(0,r.jsx)("span",{className:"text-sm text-gray-400",children:e.name}),(0,r.jsxs)("span",{className:"\n                            px-3 py-1 rounded-full text-xs font-medium\n                            ".concat("bullish"===e.prediction?"bg-green-500/20 text-green-400":"bearish"===e.prediction?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400","\n                          "),children:["bullish"===e.prediction&&(0,r.jsx)(x.A,{className:"w-3 h-3 inline mr-1"}),"bearish"===e.prediction&&(0,r.jsx)(h.A,{className:"w-3 h-3 inline mr-1"}),e.prediction]})]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:e.reasoning}),(0,r.jsxs)("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Current: "}),(0,r.jsxs)("span",{className:"text-white font-medium",children:["$",e.current_price.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Target: "}),(0,r.jsxs)("span",{className:"text-white font-medium",children:["$",e.target_price.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Potential: "}),(0,r.jsxs)("span",{className:"font-medium ".concat(e.potential_return>0?"text-green-400":"text-red-400"),children:[e.potential_return>0?"+":"",e.potential_return.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Live Price: "}),(0,r.jsx)("span",{className:"text-white font-semibold",children:t&&void 0!==t.price?"$".concat(t.price.toFixed(2)):"--"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Change: "}),(0,r.jsx)("span",{className:t&&void 0!==t.change?t.change>=0?"text-green-500":"text-red-500":"",children:t&&void 0!==t.change?"".concat(t.change>=0?"+":"").concat(t.change.toFixed(2),"%"):"--"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Vol: "}),(0,r.jsx)("span",{className:"text-white font-semibold",children:t&&void 0!==t.volume?t.volume.toLocaleString():"--"})]})]})]}),(0,r.jsxs)("div",{className:"ml-6 text-right",children:[(0,r.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Confidence"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-indigo-400",children:[(100*e.confidence).toFixed(0),"%"]})]})]})},s)})}),(null==u?void 0:u.plan)==="free"&&e.length>0&&(0,r.jsx)("div",{className:"p-6 border-t border-slate-800 bg-gradient-to-r from-indigo-900/20 to-purple-900/20",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Want more AI picks?"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Upgrade to Premium for 100 picks or Pro for unlimited access"})]}),(0,r.jsx)(p(),{href:"/pricing",children:(0,r.jsx)(g.$,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600",children:"View Plans"})})]})})]})]})})}},2699:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4130:(e,s,t)=>{"use strict";t.d(s,{cn:()=>a});var r=t(4584),i=t(2292);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,r.$)(s))}},5655:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6080:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},6608:(e,s,t)=>{Promise.resolve().then(t.bind(t,1456))},6713:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},8005:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(3365);t(1521);var i=t(544),a=t(2934),n=t(4130);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:a,asChild:c=!1,...d}=e,o=c?i.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:t,size:a,className:s})),...d})}},8760:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7982).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6911,6301,798,2347,4870,7358],()=>s(6608)),_N_E=e.O()}]);