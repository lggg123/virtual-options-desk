(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8695],{216:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},568:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1710:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},3653:(e,t,s)=>{Promise.resolve().then(s.bind(s,4122))},4122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5800),i=s(5924),r=s(5161),n=s(216);let l=(0,s(9766).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=s(8206),d=s(1710),o=s(8125),x=s(568),m=s(7349),h=s(1973),p=s.n(h),g=s(6631);function u(){let[e,t]=(0,i.useState)([]),[s,h]=(0,i.useState)(!0),[u,v]=(0,i.useState)(null),[b,j]=(0,i.useState)({});async function f(){try{let{data:{session:e}}=await r.N.auth.getSession();if(!(null==e?void 0:e.user))return void h(!1);let s=await fetch("/api/subscription/status?user_id=".concat(e.user.id)),a="free",i=10;if(s.ok){let e=await s.json();a=e.plan||"free","premium"===a?i=50:"pro"===a&&(i=25),v({plan:a,status:e.status||"active",picks_limit:i})}let n="/api/ai-picks/free";"pro"===a&&(n="/api/ai-picks/pro"),"premium"===a&&(n="/api/ai-picks/premium");let l=await fetch(n);if(l.ok){let e=await l.json();t(e.picks||[])}}catch(e){console.error("Error fetching AI picks:",e)}finally{h(!1)}}return(0,i.useEffect)(()=>{f()},[]),(0,i.useEffect)(()=>{if(!e.length)return;let t=!1;return async function(){let s={};await Promise.all(e.map(async e=>{try{let t=await fetch("/api/market/quote?symbol=".concat(encodeURIComponent(e.symbol)));if(!t.ok)return;let a=await t.json();s[e.symbol]={price:a.regularMarketPrice,change:a.regularMarketChangePercent,volume:a.regularMarketVolume}}catch(e){}})),t||j(s)}(),()=>{t=!0}},[e]),(0,a.jsx)("div",{className:"min-h-screen bg-slate-950 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 text-indigo-400"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"AI Stock Picks"})]}),(0,a.jsx)("p",{className:"text-gray-400",children:"ML-powered stock analysis and recommendations"})]}),u&&"free"===u.plan&&(0,a.jsx)(p(),{href:"/pricing",children:(0,a.jsxs)(g.$,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600",children:[(0,a.jsx)(l,{className:"w-4 h-4 mr-2"}),"Upgrade for More Picks"]})})]}),u&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-lg border ".concat("free"===u.plan?"bg-slate-900/50 border-slate-700":"premium"===u.plan?"bg-purple-900/20 border-purple-700":"bg-indigo-900/20 border-indigo-700"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Current Plan"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-white capitalize",children:u.plan})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"AI Picks Limit"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-white",children:-1===u.picks_limit?"Unlimited":"".concat(e.length,"/").concat(u.picks_limit)})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Picks"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-white mt-1",children:[e.length,u&&-1!==u.picks_limit&&(0,a.jsxs)("span",{className:"text-sm text-gray-400 ml-2",children:["/ ",u.picks_limit]})]})]}),(0,a.jsx)(c.A,{className:"w-10 h-10 text-indigo-500"})]})}),(0,a.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Avg Confidence"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:e.length>0?"".concat((e.reduce((e,t)=>e+t.confidence,0)/e.length*100).toFixed(1),"%"):"0%"})]}),(0,a.jsx)(d.A,{className:"w-10 h-10 text-yellow-500"})]})}),(0,a.jsx)("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Potential Returns"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400 mt-1",children:e.length>0?"+".concat((e.reduce((e,t)=>e+t.potential_return,0)/e.length).toFixed(1),"%"):"0%"})]}),(0,a.jsx)(o.A,{className:"w-10 h-10 text-green-500"})]})})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-lg border border-slate-800",children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Today's Picks"}),(null==u?void 0:u.plan)==="free"&&(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Free Tier: Top 10 Stocks"})]})}),s?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"}),(0,a.jsx)("p",{className:"text-gray-400 mt-4",children:"Analyzing market data with AI..."})]}):0===e.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(n.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No picks available at the moment."}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Check back later for fresh AI recommendations."})]}):(0,a.jsx)("div",{className:"divide-y divide-slate-800",children:e.map((e,t)=>{let s=b[e.symbol];return(0,a.jsx)("div",{className:"p-6 hover:bg-slate-800/50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-400",children:["#",t+1]}),(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:e.symbol}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.name}),(0,a.jsxs)("span",{className:"\n                            px-3 py-1 rounded-full text-xs font-medium\n                            ".concat("bullish"===e.prediction?"bg-green-500/20 text-green-400":"bearish"===e.prediction?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400","\n                          "),children:["bullish"===e.prediction&&(0,a.jsx)(x.A,{className:"w-3 h-3 inline mr-1"}),"bearish"===e.prediction&&(0,a.jsx)(m.A,{className:"w-3 h-3 inline mr-1"}),e.prediction]})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:e.reasoning}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Current: "}),(0,a.jsxs)("span",{className:"text-white font-medium",children:["$",e.current_price.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Target: "}),(0,a.jsxs)("span",{className:"text-white font-medium",children:["$",e.target_price.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Potential: "}),(0,a.jsxs)("span",{className:"font-medium ".concat(e.potential_return>0?"text-green-400":"text-red-400"),children:[e.potential_return>0?"+":"",e.potential_return.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Live Price: "}),(0,a.jsx)("span",{className:"text-white font-semibold",children:s&&void 0!==s.price?"$".concat(s.price.toFixed(2)):"--"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Change: "}),(0,a.jsx)("span",{className:s&&void 0!==s.change?s.change>=0?"text-green-500":"text-red-500":"",children:s&&void 0!==s.change?"".concat(s.change>=0?"+":"").concat(s.change.toFixed(2),"%"):"--"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Vol: "}),(0,a.jsx)("span",{className:"text-white font-semibold",children:s&&void 0!==s.volume?s.volume.toLocaleString():"--"})]})]})]}),(0,a.jsxs)("div",{className:"ml-6 text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Confidence"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-indigo-400",children:[(100*e.confidence).toFixed(0),"%"]})]})]})},t)})}),(null==u?void 0:u.plan)==="free"&&e.length>0&&(0,a.jsx)("div",{className:"p-6 border-t border-slate-800 bg-gradient-to-r from-indigo-900/20 to-purple-900/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Want more AI picks?"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Upgrade to Premium for 100 picks or Pro for unlimited access"})]}),(0,a.jsx)(p(),{href:"/pricing",children:(0,a.jsx)(g.$,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600",children:"View Plans"})})]})})]})]})})}},4756:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(8174),i=s(5314);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,a.$)(t))}},5161:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var a=s(3899),i=s(298);let r=i.env.NEXT_PUBLIC_SUPABASE_URL||"",n=i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";r&&n||console.warn("Missing Supabase environment variables");let l=(0,a.createBrowserClient)(r,n)},6631:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(5800);s(5924);var i=s(986),r=s(4208),n=s(4756);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:r,asChild:c=!1,...d}=e,o=c?i.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:r,className:t})),...d})}},7349:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},8125:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8206:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9766).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[3899,2164,8626,7116,9683,7358],()=>t(3653)),_N_E=e.O()}]);